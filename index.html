<!doctype html>
<html class="no-js" lang="">

<head>
    <meta charset="utf-8">
    <meta http-equiv="x-ua-compatible" content="ie=edge">
    <title></title>
    <meta name="description" content="">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style type="text/css">
    body {
        background-color: rgb(246, 246, 239);
        color: #030303;
        font-family: 'Roboto', 'Helvetica Neue', Helvetica, sans-serif;
        line-height: 21px;
        padding-top: 40px;
    }
    
    section {
        max-width: 720px;
        margin: 0 auto;
        padding: 8px;
    }
    a{
        text-decoration: none;
    }
    
    </style>
</head>

<body>
    <section>
        <h1>On what platforms are you logged in?</h1>
        <h2>Explanation</h2>
        <p>
            The login page will redirect to the favicon if the user is already logged in, or it will serve a regular HTML page if the user is not. So, the script creates an (invisible) &lt;img&gt; element for every website which points to the login page (which might redirect to the favicon). If it receives an image, the user is already logged in and the onLoad() callback will fire. Otherwise, it will get an HTML page, so the onError() callback will fire. It could work with any image on the website, not just the favicon.
        </p>
        <p>
            Though the redirects work only with images hosted on the same domain and the favicon.ico is the only(?) image hosted on twitter.com, on facebook.com, or on most of the other domains.
        </p>
    </section>
    <section>
        <h2>Demo</h2>
        <h3>Logged In</h3>
        <ul id="loggedIn"></ul>
        <h3>Not Logged In</h3>
        <ul id="notLoggedIn"></ul>
    </section>
    <script src="socialmedia-leak.js"></script>
    <script>
    function displayResult(text, loggedIn, url) {
        var id = loggedIn ? 'loggedIn' : 'notLoggedIn';
        document.getElementById(id).innerHTML += '<li><a href="' + url + '" target="_blank">' + text + '</a></li>';
    }
    leakSocialMediaAccounts(displayResult);
    </script>
</body>

</html>
